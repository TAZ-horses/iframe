
<!DOCTYPE html>
<html>
<head>
    <title>Steed Media Mindmap - Visual</title>
    <meta charset="UTF-8" />
    <style>
        body { margin: 0; font-family: sans-serif; background: #2D3047; color: white; }
        .bubble {
            position: absolute;
            padding: 10px 16px;
            border-radius: 50%;
            background: #4ECDC4;
            color: #000;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            cursor: move;
            white-space: nowrap;
        }
        .line {
            stroke: #aaa;
            stroke-width: 2;
        }
    </style>
</head>
<body>
<svg id="lines" width="100%" height="100%" style="position:absolute;top:0;left:0;z-index:0;"></svg>
<div id="container" style="position:relative; width:100%; height:100%;"></div>

<script>
fetch("mindmap_data_synced.json")
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById("container");
    const svg = document.getElementById("lines");
    let y = 50, x = 50;

    Object.entries(data).forEach(([category, services], i) => {
      const cat = document.createElement("div");
      cat.className = "bubble";
      cat.style.left = `${x}px`;
      cat.style.top = `${y}px`;
      cat.style.background = "#FF6B6B";
      cat.textContent = category;
      container.appendChild(cat);

      let cx = x + 200;
      let cy = y;

      services.forEach((s, j) => {
        const svc = document.createElement("div");
        svc.className = "bubble";
        svc.style.background = "#f8e71c";
        svc.style.left = `${cx}px`;
        svc.style.top = `${cy}px`;
        svc.innerHTML = `${s.service}<br><small>${s.username || ""}</small>`;
        container.appendChild(svc);

        const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.setAttribute("x1", x + 60);
        line.setAttribute("y1", y + 20);
        line.setAttribute("x2", cx);
        line.setAttribute("y2", cy + 20);
        line.classList.add("line");
        svg.appendChild(line);

        cy += 100;
      });

      y += 150;
    });
  });
</script>
</body>
</html>
